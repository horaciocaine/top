var DOKU_BASE='/wikidocs/';var alertText='Please enter the text you want to format.\nIt will be appended to the end of the document.';var notSavedYet='Unsaved changes will be lost.\nReally continue?';var reallyDel='Really delete selected item(s)?';LANG={"keepopen":"Keep window open on selection","hidedetails":"Hide Details"};function addEvent(element,type,handler){if(!handler.$$guid)handler.$$guid=addEvent.guid++;if(!element.events)element.events={};var handlers=element.events[type];if(!handlers){handlers=element.events[type]={};if(element["on"+type]){handlers[0]=element["on"+type];}}handlers[handler.$$guid]=handler;element["on"+type]=handleEvent;};addEvent.guid=1;function removeEvent(element,type,handler){if(element.events&&element.events[type]){delete element.events[type][handler.$$guid];}};function handleEvent(event){var returnValue=true;event=event||fixEvent(window.event);var handlers=this.events[event.type];for(var i in handlers){this.$$handleEvent=handlers[i];if(this.$$handleEvent(event)===false){returnValue=false;}}return returnValue;};function fixEvent(event){event.preventDefault=fixEvent.preventDefault;event.stopPropagation=fixEvent.stopPropagation;event.target=event.srcElement;return event;};fixEvent.preventDefault=function(){this.returnValue=false;};fixEvent.stopPropagation=function(){this.cancelBubble=true;};window.fireoninit=function(){if(arguments.callee.done)return;arguments.callee.done=true;if(_timer){clearInterval(_timer);_timer=null;}if(typeof window.oninit=='function'){window.oninit();}};if(document.addEventListener){document.addEventListener("DOMContentLoaded",window.fireoninit,null);}/*@cc_on @*//*@if(@_win32)document.write("<scr"+"ipt id=\"__ie_init\" defer=\"true\" src=\"//:\"><\/script>");var script=document.getElementById("__ie_init");script.onreadystatechange=function(){if(this.readyState=="complete"){window.fireoninit();}};/*@end @*/if(/WebKit/i.test(navigator.userAgent)){var _timer=setInterval(function(){if(/loaded|complete/.test(document.readyState)){window.fireoninit();}},10);}window.onload=window.fireoninit;window.oninit=function(){};function addInitEvent(func){var oldoninit=window.oninit;if(typeof window.oninit!='function'){window.oninit=func;}else{window.oninit=function(){oldoninit();func();};}}DokuCookie={data:Array(),name:'DOKU_PREFS',setValue:function(key,val){DokuCookie.init();DokuCookie.data[key]=val;var now=new Date();DokuCookie.fixDate(now);now.setTime(now.getTime()+365*24*60*60*1000);var text='';for(var key in DokuCookie.data){text+='#'+escape(key)+'#'+DokuCookie.data[key];}DokuCookie.setCookie(DokuCookie.name,text.substr(1),now,DOKU_BASE);},getValue:function(key){DokuCookie.init();return DokuCookie.data[key];},init:function(){if(DokuCookie.data.length)return;var text=DokuCookie.getCookie(DokuCookie.name);if(text){var parts=text.split('#');for(var i=0;i<parts.length;i+=2){DokuCookie.data[unescape(parts[i])]=unescape(parts[i+1]);}}},setCookie:function(name,value,expires,path,domain,secure){var curCookie=name+"="+escape(value)+((expires)?"; expires="+expires.toGMTString():"")+((path)?"; path="+path:"")+((domain)?"; domain="+domain:"")+((secure)?"; secure":"");document.cookie=curCookie;},getCookie:function(name){var dc=document.cookie;var prefix=name+"=";var begin=dc.indexOf("; "+prefix);if(begin==-1){begin=dc.indexOf(prefix);if(begin!==0){return null;}}else{begin+=2;}var end=document.cookie.indexOf(";",begin);if(end==-1){end=dc.length;}return unescape(dc.substring(begin+prefix.length,end));},fixDate:function(date){var base=new Date(0);var skew=base.getTime();if(skew>0){date.setTime(date.getTime()-skew);}}};var clientPC=navigator.userAgent.toLowerCase();var is_gecko=((clientPC.indexOf('gecko')!=-1)&&(clientPC.indexOf('spoofer')==-1)&&(clientPC.indexOf('khtml')==-1)&&(clientPC.indexOf('netscape/7.0')==-1));var is_safari=((clientPC.indexOf('AppleWebKit')!=-1)&&(clientPC.indexOf('spoofer')==-1));var is_khtml=(navigator.vendor=='KDE'||(document.childNodes&&!document.all&&!navigator.taintEnabled));if(clientPC.indexOf('opera')!=-1){var is_opera=true;var is_opera_preseven=(window.opera&&!document.childNodes);var is_opera_seven=(window.opera&&document.childNodes);}function updateAccessKeyTooltip(){var tip='ALT+';if(domLib_isMac){tip='CTRL+';}if(domLib_isOpera){tip='SHIFT+ESC ';}if(tip=='ALT+'){return;}var exp=/\[ALT\+/i;var rep='['+tip;var elements=domLib_getElementsByTagNames(['a','input','button']);for(var i=0;i<elements.length;i++){if(elements[i].accessKey.length==1&&elements[i].title.length>0){elements[i].title=elements[i].title.replace(exp,rep);}}}function $(){var elements=new Array();for(var i=0;i<arguments.length;i++){var element=arguments[i];if(typeof element=='string')element=document.getElementById(element);if(arguments.length==1)return element;elements.push(element);}return elements;}function isset(varname){return(typeof(window[varname])!='undefined');}function getElementsByClass(searchClass,node,tag){var classElements=new Array();if(node==null)node=document;if(tag==null)tag='*';var els=node.getElementsByTagName(tag);var elsLen=els.length;var pattern=new RegExp("(^|\\s)"+searchClass+"(\\s|$)");for(i=0,j=0;i<elsLen;i++){if(pattern.test(els[i].className)){classElements[j]=els[i];j++;}}return classElements;}function findPosX(object){var curleft=0;var obj=$(object);if(obj.offsetParent){while(obj.offsetParent){curleft+=obj.offsetLeft;obj=obj.offsetParent;}}else if(obj.x){curleft+=obj.x;}return curleft;}function findPosY(object){var curtop=0;var obj=$(object);if(obj.offsetParent){while(obj.offsetParent){curtop+=obj.offsetTop;obj=obj.offsetParent;}}else if(obj.y){curtop+=obj.y;}return curtop;}function jsEscape(text){var re=new RegExp("\\\\","g");text=text.replace(re,"\\\\");re=new RegExp("'","g");text=text.replace(re,"\\'");re=new RegExp('"',"g");text=text.replace(re,'&quot;');re=new RegExp("\\\\\\\\n","g");text=text.replace(re,"\\n");return text;}function escapeQuotes(text){var re=new RegExp("'","g");text=text.replace(re,"\\'");re=new RegExp('"',"g");text=text.replace(re,'&quot;');re=new RegExp("\\n","g");text=text.replace(re,"\\n");return text;}function prependChild(parent,element){if(!parent.firstChild){parent.appendChild(element);}else{parent.insertBefore(element,parent.firstChild);}}function showLoadBar(){document.write('<img src="'+DOKU_BASE+'lib/images/loading.gif" '+'width="150" height="12" alt="..." />');}function hideLoadBar(id){obj=$(id);if(obj)obj.style.display="none";}function addTocToggle(){if(!document.getElementById)return;var header=$('toc__header');if(!header)return;var showimg=document.createElement('img');showimg.id='toc__show';showimg.src=DOKU_BASE+'lib/images/arrow_down.gif';showimg.alt='+';showimg.onclick=toggleToc;showimg.style.display='none';var hideimg=document.createElement('img');hideimg.id='toc__hide';hideimg.src=DOKU_BASE+'lib/images/arrow_up.gif';hideimg.alt='-';hideimg.onclick=toggleToc;prependChild(header,showimg);prependChild(header,hideimg);}function toggleToc(){var toc=$('toc__inside');var showimg=$('toc__show');var hideimg=$('toc__hide');if(toc.style.display=='none'){toc.style.display='';hideimg.style.display='';showimg.style.display='none';}else{toc.style.display='none';hideimg.style.display='none';showimg.style.display='';}}function checkAclLevel(){if(document.getElementById){var scope=$('acl_scope').value;if((scope.indexOf(":*")>0)||(scope=="*")){document.getElementsByName('acl_checkbox[4]')[0].disabled=false;document.getElementsByName('acl_checkbox[8]')[0].disabled=false;}else{document.getElementsByName('acl_checkbox[4]')[0].checked=false;document.getElementsByName('acl_checkbox[8]')[0].checked=false;document.getElementsByName('acl_checkbox[4]')[0].disabled=true;document.getElementsByName('acl_checkbox[8]')[0].disabled=true;}}}var currentFootnote=0;function fnt(id,e,evt){if(currentFootnote&&id!=currentFootnote){domTT_close($('insitu__fn'+currentFootnote));}var fnote=$('insitu__fn'+id);var footnote;if(!fnote){var a=$("fn__"+id);if(!a){return;}footnote=new String(a.parentNode.innerHTML);footnote=footnote.replace(/<a\s.*?href=\".*\#fnt__\d+\".*?<\/a>/gi,'');footnote=footnote.replace(/^\s+(,\s+)+/,'');footnote=footnote.replace(/\bid=\"(.*?)\"/gi,'id="insitu__$1');}else{footnote=new String(fnt.innerHTML);}domTT_activate(e,evt,'content',footnote,'type','velcro','id','insitu__fn'+id,'styleClass','insitu-footnote JSpopup dokuwiki','maxWidth',document.body.offsetWidth*0.4);currentFootnote=id;}function initSizeCtl(ctlid,edid){if(!document.getElementById){return;}var ctl=$(ctlid);var textarea=$(edid);if(!ctl||!textarea)return;var hgt=DokuCookie.getValue('sizeCtl');if(hgt){textarea.style.height=hgt;}else{textarea.style.height='300px';}var l=document.createElement('img');var s=document.createElement('img');var w=document.createElement('img');l.src=DOKU_BASE+'lib/images/larger.gif';s.src=DOKU_BASE+'lib/images/smaller.gif';w.src=DOKU_BASE+'lib/images/wrap.gif';addEvent(l,'click',function(){sizeCtl(edid,100);});addEvent(s,'click',function(){sizeCtl(edid,-100);});addEvent(w,'click',function(){toggleWrap(edid);});ctl.appendChild(l);ctl.appendChild(s);ctl.appendChild(w);}function sizeCtl(edid,val){var textarea=$(edid);var height=parseInt(textarea.style.height.substr(0,textarea.style.height.length-2));height+=val;textarea.style.height=height+'px';DokuCookie.setValue('sizeCtl',textarea.style.height);}function toggleWrap(edid){var txtarea=$(edid);var wrap=txtarea.getAttribute('wrap');if(wrap&&wrap.toLowerCase()=='off'){txtarea.setAttribute('wrap','soft');}else{txtarea.setAttribute('wrap','off');}var parNod=txtarea.parentNode;var nxtSib=txtarea.nextSibling;parNod.removeChild(txtarea);parNod.insertBefore(txtarea,nxtSib);}function closePopups(){if(!document.getElementById){return;}var divs=document.getElementsByTagName('div');for(var i=0;i<divs.length;i++){if(divs[i].className.indexOf('JSpopup')!=-1){divs[i].style.display='none';}}}function scrollToMarker(){var obj=$('scroll__here');if(obj)obj.scrollIntoView();}function focusMarker(){var obj=$('focus__this');if(obj)obj.focus();}function cleanMsgArea(){var elems=getElementsByClass('(success|info|error)',document,'div');if(elems){for(var i=0;i<elems.length;i++){elems[i].style.display='none';}}}function sack(file){this.AjaxFailedAlert="Your browser does not support the enhanced functionality of this website, and therefore you will have an experience that differs from the intended one.\n";this.requestFile=file;this.method="POST";this.URLString="";this.encodeURIString=true;this.execute=false;this.onLoading=function(){};this.onLoaded=function(){};this.onInteractive=function(){};this.onCompletion=function(){};this.afterCompletion=function(){};this.createAJAX=function(){try{this.xmlhttp=new ActiveXObject("Msxml2.XMLHTTP");}catch(e){try{this.xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");}catch(err){this.xmlhttp=null;}}if(!this.xmlhttp&&typeof XMLHttpRequest!="undefined"){this.xmlhttp=new XMLHttpRequest();}if(!this.xmlhttp){this.failed=true;}};this.setVar=function(name,value){if(this.URLString.length<3){this.URLString=name+"="+value;}else{this.URLString+="&"+name+"="+value;}};this.encVar=function(name,value){var varString=encodeURIComponent(name)+"="+encodeURIComponent(value);return varString;};this.encodeURLString=function(string){varArray=string.split('&');for(i=0;i<varArray.length;i++){urlVars=varArray[i].split('=');if(urlVars[0].indexOf('amp;')!=-1){urlVars[0]=urlVars[0].substring(4);}varArray[i]=this.encVar(urlVars[0],urlVars[1]);}return varArray.join('&');};this.runResponse=function(){eval(this.response);};this.runAJAX=function(urlstring){this.responseStatus=new Array(2);if(this.failed&&this.AjaxFailedAlert){alert(this.AjaxFailedAlert);}else{if(urlstring){if(this.URLString.length){this.URLString=this.URLString+"&"+urlstring;}else{this.URLString=urlstring;}}if(this.encodeURIString){var timeval=new Date().getTime();this.URLString=this.encodeURLString(this.URLString);this.setVar("rndval",timeval);}if(this.element){this.elementObj=document.getElementById(this.element);}if(this.xmlhttp){var self=this;if(this.method=="GET"){var totalurlstring=this.requestFile+"?"+this.URLString;this.xmlhttp.open(this.method,totalurlstring,true);}else{this.xmlhttp.open(this.method,this.requestFile,true);}if(this.method=="POST"){try{this.xmlhttp.setRequestHeader('Content-Type','application/x-www-form-urlencoded; charset=UTF-8');}catch(e){}}this.xmlhttp.onreadystatechange=function(){switch(self.xmlhttp.readyState){case 1:self.onLoading();break;case 2:self.onLoaded();break;case 3:self.onInteractive();break;case 4:self.response=self.xmlhttp.responseText;self.responseXML=self.xmlhttp.responseXML;self.responseStatus[0]=self.xmlhttp.status;self.responseStatus[1]=self.xmlhttp.statusText;self.onCompletion();if(self.execute){self.runResponse();}if(self.elementObj){var elemNodeName=self.elementObj.nodeName;elemNodeName.toLowerCase();if(elemNodeName=="input"||elemNodeName=="select"||elemNodeName=="option"||elemNodeName=="textarea"){self.elementObj.value=self.response;}else{self.elementObj.innerHTML=self.response;}}self.afterCompletion();self.URLString="";break;}};this.xmlhttp.send(this.URLString);}}};this.createAJAX();}function ajax_qsearch_class(){this.sack=null;this.inObj=null;this.outObj=null;this.timer=null;}var ajax_qsearch=new ajax_qsearch_class();ajax_qsearch.sack=new sack(DOKU_BASE+'lib/exe/ajax.php');ajax_qsearch.sack.AjaxFailedAlert='';ajax_qsearch.sack.encodeURIString=false;ajax_qsearch.init=function(inID,outID){ajax_qsearch.inObj=document.getElementById(inID);ajax_qsearch.outObj=document.getElementById(outID);if(ajax_qsearch.inObj===null){return;}if(ajax_qsearch.outObj===null){return;}addEvent(ajax_qsearch.inObj,'keyup',ajax_qsearch.call);addEvent(ajax_qsearch.outObj,'click',function(){ajax_qsearch.outObj.style.display='none';});};ajax_qsearch.clear=function(){ajax_qsearch.outObj.style.display='none';ajax_qsearch.outObj.innerHTML='';if(ajax_qsearch.timer!==null){window.clearTimeout(ajax_qsearch.timer);ajax_qsearch.timer=null;}};ajax_qsearch.exec=function(){ajax_qsearch.clear();var value=ajax_qsearch.inObj.value;if(value===''){return;}ajax_qsearch.sack.runAJAX('call=qsearch&q='+encodeURI(value));};ajax_qsearch.sack.onCompletion=function(){var data=ajax_qsearch.sack.response;if(data===''){return;}ajax_qsearch.outObj.innerHTML=data;ajax_qsearch.outObj.style.display='block';};ajax_qsearch.call=function(){ajax_qsearch.clear();ajax_qsearch.timer=window.setTimeout("ajax_qsearch.exec()",500);};var domLib_userAgent=navigator.userAgent.toLowerCase();var domLib_isMac=navigator.appVersion.indexOf('Mac')!=-1;var domLib_isWin=domLib_userAgent.indexOf('windows')!=-1;var domLib_isOpera=domLib_userAgent.indexOf('opera')!=-1;var domLib_isOpera7up=domLib_userAgent.match(/opera.(7|8)/i);var domLib_isSafari=domLib_userAgent.indexOf('safari')!=-1;var domLib_isKonq=domLib_userAgent.indexOf('konqueror')!=-1;var domLib_isKHTML=(domLib_isKonq||domLib_isSafari||domLib_userAgent.indexOf('khtml')!=-1);var domLib_isIE=(!domLib_isKHTML&&!domLib_isOpera&&(domLib_userAgent.indexOf('msie 5')!=-1||domLib_userAgent.indexOf('msie 6')!=-1||domLib_userAgent.indexOf('msie 7')!=-1));var domLib_isIE5up=domLib_isIE;var domLib_isIE50=(domLib_isIE&&domLib_userAgent.indexOf('msie 5.0')!=-1);var domLib_isIE55=(domLib_isIE&&domLib_userAgent.indexOf('msie 5.5')!=-1);var domLib_isIE5=(domLib_isIE50||domLib_isIE55);var domLib_isGecko=domLib_userAgent.indexOf('gecko/')!=-1;var domLib_isMacIE=(domLib_isIE&&domLib_isMac);var domLib_isIE55up=domLib_isIE5up&&!domLib_isIE50&&!domLib_isMacIE;var domLib_isIE6up=domLib_isIE55up&&!domLib_isIE55;var domLib_standardsMode=(document.compatMode&&document.compatMode=='CSS1Compat');var domLib_useLibrary=(domLib_isOpera7up||domLib_isKHTML||domLib_isIE5up||domLib_isGecko||domLib_isMacIE||document.defaultView);var domLib_hasBrokenTimeout=(domLib_isMacIE||(domLib_isKonq&&domLib_userAgent.match(/konqueror\/3.([2-9])/)===null));var domLib_canFade=(domLib_isGecko||domLib_isIE||domLib_isSafari||domLib_isOpera);var domLib_canDrawOverSelect=(domLib_isMac||domLib_isOpera||domLib_isGecko);var domLib_canDrawOverFlash=(domLib_isMac||domLib_isWin);var domLib_eventTarget=domLib_isIE?'srcElement':'currentTarget';var domLib_eventButton=domLib_isIE?'button':'which';var domLib_eventTo=domLib_isIE?'toElement':'relatedTarget';var domLib_stylePointer=domLib_isIE?'hand':'pointer';var domLib_styleNoMaxWidth=domLib_isOpera?'10000px':'none';var domLib_hidePosition='-1000px';var domLib_scrollbarWidth=14;var domLib_autoId=1;var domLib_zIndex=100;var domLib_collisionElements;var domLib_collisionsCached=false;var domLib_timeoutStateId=0;var domLib_timeoutStates=new Hash();if(!document.ELEMENT_NODE){document.ELEMENT_NODE=1;document.ATTRIBUTE_NODE=2;document.TEXT_NODE=3;document.DOCUMENT_NODE=9;document.DOCUMENT_FRAGMENT_NODE=11;}function domLib_clone(obj){var copy={};for(var i in obj){var value=obj[i];try{if(value!==null&&typeof(value)=='object'&&value!=window&&!value.nodeType){copy[i]=domLib_clone(value);}else{copy[i]=value;}}catch(e){copy[i]=value;}}return copy;}function Hash(){this.length=0;this.numericLength=0;this.elementData=[];for(var i=0;i<arguments.length;i+=2){if(typeof(arguments[i+1])!='undefined'){this.elementData[arguments[i]]=arguments[i+1];this.length++;if(arguments[i]==parseInt(arguments[i])){this.numericLength++;}}}}Hash.prototype.get=function(in_key){return this.elementData[in_key];};Hash.prototype.set=function(in_key,in_value){if(typeof(in_value)!='undefined'){if(typeof(this.elementData[in_key])=='undefined'){this.length++;if(in_key==parseInt(in_key)){this.numericLength++;}}this.elementData[in_key]=in_value;return this.elementData[in_key];}return false;};Hash.prototype.remove=function(in_key){var tmp_value;if(typeof(this.elementData[in_key])!='undefined'){this.length--;if(in_key==parseInt(in_key)){this.numericLength--;}tmp_value=this.elementData[in_key];delete this.elementData[in_key];}return tmp_value;};Hash.prototype.size=function(){return this.length;};Hash.prototype.has=function(in_key){return typeof(this.elementData[in_key])!='undefined';};Hash.prototype.find=function(in_obj){for(var tmp_key in this.elementData){if(this.elementData[tmp_key]==in_obj){return tmp_key;}}};Hash.prototype.merge=function(in_hash){for(var tmp_key in in_hash.elementData){if(typeof(this.elementData[tmp_key])=='undefined'){this.length++;if(tmp_key==parseInt(tmp_key)){this.numericLength++;}}this.elementData[tmp_key]=in_hash.elementData[tmp_key];}};Hash.prototype.compare=function(in_hash){if(this.length!=in_hash.length){return false;}for(var tmp_key in this.elementData){if(this.elementData[tmp_key]!=in_hash.elementData[tmp_key]){return false;}}return true;};function domLib_isDescendantOf(in_object,in_ancestor){if(in_object==in_ancestor){return true;}while(in_object!=document.documentElement){try{if((tmp_object=in_object.offsetParent)&&tmp_object==in_ancestor){return true;}else if((tmp_object=in_object.parentNode)==in_ancestor){return true;}else{in_object=tmp_object;}}catch(e){return true;}}return false;}function domLib_detectCollisions(in_object,in_recover,in_useCache){if(!domLib_collisionsCached){var tags=[];if(!domLib_canDrawOverFlash){tags[tags.length]='object';}if(!domLib_canDrawOverSelect){tags[tags.length]='select';}domLib_collisionElements=domLib_getElementsByTagNames(tags,true);domLib_collisionsCached=in_useCache;}if(in_recover){for(var cnt=0;cnt<domLib_collisionElements.length;cnt++){var thisElement=domLib_collisionElements[cnt];if(!thisElement.hideList){thisElement.hideList=new Hash();}thisElement.hideList.remove(in_object.id);if(!thisElement.hideList.length){domLib_collisionElements[cnt].style.visibility='visible';if(domLib_isKonq){domLib_collisionElements[cnt].style.display='';}}}return;}else if(domLib_collisionElements.length===0){return;}var objectOffsets=domLib_getOffsets(in_object);for(cnt=0;cnt<domLib_collisionElements.length;cnt++){thisElement=domLib_collisionElements[cnt];if(domLib_isDescendantOf(thisElement,in_object)){continue;}if(domLib_isKonq&&thisElement.tagName=='SELECT'&&(thisElement.size<=1&&!thisElement.multiple)){continue;}if(!thisElement.hideList){thisElement.hideList=new Hash();}var selectOffsets=domLib_getOffsets(thisElement);var center2centerDistance=Math.sqrt(Math.pow(selectOffsets.get('leftCenter')-objectOffsets.get('leftCenter'),2)+Math.pow(selectOffsets.get('topCenter')-objectOffsets.get('topCenter'),2));var radiusSum=selectOffsets.get('radius')+objectOffsets.get('radius');if(center2centerDistance<radiusSum){if((objectOffsets.get('leftCenter')<=selectOffsets.get('leftCenter')&&objectOffsets.get('right')<selectOffsets.get('left'))||(objectOffsets.get('leftCenter')>selectOffsets.get('leftCenter')&&objectOffsets.get('left')>selectOffsets.get('right'))||(objectOffsets.get('topCenter')<=selectOffsets.get('topCenter')&&objectOffsets.get('bottom')<selectOffsets.get('top'))||(objectOffsets.get('topCenter')>selectOffsets.get('topCenter')&&objectOffsets.get('top')>selectOffsets.get('bottom'))){thisElement.hideList.remove(in_object.id);if(!thisElement.hideList.length){thisElement.style.visibility='visible';if(domLib_isKonq){thisElement.style.display='';}}}else{thisElement.hideList.set(in_object.id,true);thisElement.style.visibility='hidden';if(domLib_isKonq){thisElement.style.display='none';}}}}}function domLib_getOffsets(in_object){var originalObject=in_object;var originalWidth=in_object.offsetWidth;var originalHeight=in_object.offsetHeight;var offsetLeft=0;var offsetTop=0;while(in_object){offsetLeft+=in_object.offsetLeft;offsetTop+=in_object.offsetTop;in_object=in_object.offsetParent;}if(domLib_isMacIE){offsetLeft+=10;offsetTop+=10;}return new Hash('left',offsetLeft,'top',offsetTop,'right',offsetLeft+originalWidth,'bottom',offsetTop+originalHeight,'leftCenter',offsetLeft+originalWidth/2,'topCenter',offsetTop+originalHeight/2,'radius',Math.max(originalWidth,originalHeight));}function domLib_setTimeout(in_function,in_timeout,in_args){if(typeof(in_args)=='undefined'){in_args=[];}if(in_timeout==-1){return;}else if(in_timeout===0){in_function(in_args);return 0;}var args=domLib_clone(in_args);if(!domLib_hasBrokenTimeout){return setTimeout(function(){in_function(args);},in_timeout);}else{var id=domLib_timeoutStateId++;var data=new Hash();data.set('function',in_function);data.set('args',args);domLib_timeoutStates.set(id,data);data.set('timeoutId',setTimeout('domLib_timeoutStates.get('+id+').get(\'function\')(domLib_timeoutStates.get('+id+').get(\'args\')); domLib_timeoutStates.remove('+id+');',in_timeout));return id;}}function domLib_clearTimeout(in_id){if(!domLib_hasBrokenTimeout){clearTimeout(in_id);}else{if(domLib_timeoutStates.has(in_id)){clearTimeout(domLib_timeoutStates.get(in_id).get('timeoutId'));domLib_timeoutStates.remove(in_id);}}}function domLib_getEventPosition(in_eventObj){var eventPosition=new Hash('x',0,'y',0,'scrollX',0,'scrollY',0);if(domLib_isIE){var doc=(domLib_standardsMode?document.documentElement:document.body);if(doc){eventPosition.set('x',in_eventObj.clientX+doc.scrollLeft);eventPosition.set('y',in_eventObj.clientY+doc.scrollTop);eventPosition.set('scrollX',doc.scrollLeft);eventPosition.set('scrollY',doc.scrollTop);}}else{eventPosition.set('x',in_eventObj.pageX);eventPosition.set('y',in_eventObj.pageY);eventPosition.set('scrollX',in_eventObj.pageX-in_eventObj.clientX);eventPosition.set('scrollY',in_eventObj.pageY-in_eventObj.clientY);}return eventPosition;}function domLib_cancelBubble(in_event){var eventObj=in_event?in_event:window.event;eventObj.cancelBubble=true;}function domLib_getIFrameReference(in_frame){if(domLib_isGecko||domLib_isIE){return in_frame.frameElement;}else{var name=in_frame.name;if(!name||!in_frame.parent){return;}var candidates=in_frame.parent.document.getElementsByTagName('iframe');for(var i=0;i<candidates.length;i++){if(candidates[i].name==name){return candidates[i];}}}}function domLib_getElementsByClass(in_class){var elements=domLib_isIE5?document.all:document.getElementsByTagName('*');var matches=[];var cnt=0;for(var i=0;i<elements.length;i++){if((" "+elements[i].className+" ").indexOf(" "+in_class+" ")!=-1){matches[cnt++]=elements[i];}}return matches;}function domLib_getElementsByTagNames(in_list,in_excludeHidden){var elements=[];for(var i=0;i<in_list.length;i++){var matches=document.getElementsByTagName(in_list[i]);for(var j=0;j<matches.length;j++){if(in_excludeHidden&&domLib_getComputedStyle(matches[j],'visibility')=='hidden'){continue;}elements[elements.length]=matches[j];}}return elements;}function domLib_getComputedStyle(in_obj,in_property){if(domLib_isIE){var humpBackProp=in_property.replace(/-(.)/,function(a,b){return b.toUpperCase();});return eval('in_obj.currentStyle.'+humpBackProp);}else if(domLib_isKonq){humpBackProp=in_property.replace(/-(.)/,function(a,b){return b.toUpperCase();});return eval('in_obj.style.'+in_property);}else{return document.defaultView.getComputedStyle(in_obj,null).getPropertyValue(in_property);}}function makeTrue(){return true;}function makeFalse(){return false;}var domTT_offsetX=(domLib_isIE?-2:0);var domTT_offsetY=(domLib_isIE?4:2);var domTT_direction='southeast';var domTT_mouseHeight=domLib_isIE?13:19;var domTT_closeLink='X';var domTT_closeAction='hide';var domTT_activateDelay=500;var domTT_maxWidth=false;var domTT_styleClass='domTT';var domTT_fade='neither';var domTT_lifetime=0;var domTT_grid=0;var domTT_trailDelay=200;var domTT_useGlobalMousePosition=true;var domTT_screenEdgeDetection=true;var domTT_screenEdgePadding=4;var domTT_oneOnly=false;var domTT_draggable=false;if(typeof(domTT_dragEnabled)=='undefined'){domTT_dragEnabled=false;}var domTT_predefined=new Hash();var domTT_tooltips=new Hash();var domTT_lastOpened=0;if(domLib_useLibrary&&domTT_useGlobalMousePosition){var domTT_mousePosition=new Hash();document.onmousemove=function(in_event){if(typeof(in_event)=='undefined'){in_event=event;}domTT_mousePosition=domLib_getEventPosition(in_event);if(domTT_dragEnabled&&domTT_dragMouseDown){domTT_dragUpdate(in_event);}};}function domTT_activate(in_this,in_event){if(!domLib_useLibrary){return false;}if(typeof(in_event)=='undefined'){in_event=window.event;}var owner=document.body;if(in_event.type.match(/key|mouse|click|contextmenu/i)){if(in_this.nodeType&&in_this.nodeType!=document.DOCUMENT_NODE){var owner=in_this;}}else{if(typeof(in_this)!='object'&&!(owner=domTT_tooltips.get(in_this))){owner=document.body.appendChild(document.createElement('div'));owner.style.display='none';owner.id=in_this;}}if(!owner.id){owner.id='__autoId'+domLib_autoId++;}if(domTT_oneOnly&&domTT_lastOpened){domTT_deactivate(domTT_lastOpened);}domTT_lastOpened=owner.id;var tooltip=domTT_tooltips.get(owner.id);if(tooltip){if(tooltip.get('eventType')!=in_event.type){if(tooltip.get('type')=='greasy'){tooltip.set('closeAction','destroy');domTT_deactivate(owner.id);}else if(tooltip.get('status')!='inactive'){return owner.id;}}else{if(tooltip.get('status')=='inactive'){tooltip.set('status','pending');tooltip.set('activateTimeout',domLib_setTimeout(domTT_runShow,tooltip.get('delay'),[owner.id,in_event]));return owner.id;}else{return owner.id;}}}var options=new Hash('caption','','content','','clearMouse',true,'closeAction',domTT_closeAction,'closeLink',domTT_closeLink,'delay',domTT_activateDelay,'direction',domTT_direction,'draggable',domTT_draggable,'fade',domTT_fade,'fadeMax',100,'grid',domTT_grid,'id','[domTT]'+owner.id,'inframe',false,'lifetime',domTT_lifetime,'offsetX',domTT_offsetX,'offsetY',domTT_offsetY,'parent',document.body,'position','absolute','styleClass',domTT_styleClass,'type','greasy','trail',false,'lazy',false);for(var i=2;i<arguments.length;i+=2){if(arguments[i]=='predefined'){var predefinedOptions=domTT_predefined.get(arguments[i+1]);for(var j in predefinedOptions.elementData){options.set(j,predefinedOptions.get(j));}}else{options.set(arguments[i],arguments[i+1]);}}options.set('eventType',in_event.type);if(options.has('statusText')){try{window.status=options.get('statusText');}catch(e){}}if(!options.has('content')||options.get('content')==''||options.get('content')==null){if(typeof(owner.onmouseout)!='function'){owner.onmouseout=function(in_event){domTT_mouseout(this,in_event);};}return owner.id;}options.set('owner',owner);domTT_create(options);options.set('delay',in_event.type.match(/click|mousedown|contextmenu/i)?0:parseInt(options.get('delay')));domTT_tooltips.set(owner.id,options);domTT_tooltips.set(options.get('id'),options);options.set('status','pending');options.set('activateTimeout',domLib_setTimeout(domTT_runShow,options.get('delay'),[owner.id,in_event]));return owner.id;};function domTT_create(in_options){var tipOwner=in_options.get('owner');var parentObj=in_options.get('parent');var parentDoc=parentObj.ownerDocument||parentObj.document;var tipObj=parentObj.appendChild(parentDoc.createElement('div'));tipObj.style.position='absolute';tipObj.style.left='0px';tipObj.style.top='0px';tipObj.style.visibility='hidden';tipObj.id=in_options.get('id');tipObj.className=in_options.get('styleClass');var content;var tableLayout=false;if(in_options.get('caption')||(in_options.get('type')=='sticky'&&in_options.get('caption')!==false)){tableLayout=true;var tipLayoutTable=tipObj.appendChild(parentDoc.createElement('table'));tipLayoutTable.style.borderCollapse='collapse';if(domLib_isKHTML){tipLayoutTable.cellSpacing=0;}var tipLayoutTbody=tipLayoutTable.appendChild(parentDoc.createElement('tbody'));var numCaptionCells=0;var captionRow=tipLayoutTbody.appendChild(parentDoc.createElement('tr'));var captionCell=captionRow.appendChild(parentDoc.createElement('td'));captionCell.style.padding='0px';var caption=captionCell.appendChild(parentDoc.createElement('div'));caption.className='caption';if(domLib_isIE50){caption.style.height='100%';}if(in_options.get('caption').nodeType){caption.appendChild(in_options.get('caption').cloneNode(1));}else{caption.innerHTML=in_options.get('caption');}if(in_options.get('type')=='sticky'){var numCaptionCells=2;var closeLinkCell=captionRow.appendChild(parentDoc.createElement('td'));closeLinkCell.style.padding='0px';var closeLink=closeLinkCell.appendChild(parentDoc.createElement('div'));closeLink.className='caption';if(domLib_isIE50){closeLink.style.height='100%';}closeLink.style.textAlign='right';closeLink.style.cursor=domLib_stylePointer;closeLink.style.borderLeftWidth=caption.style.borderRightWidth='0px';closeLink.style.paddingLeft=caption.style.paddingRight='0px';closeLink.style.marginLeft=caption.style.marginRight='0px';if(in_options.get('closeLink').nodeType){closeLink.appendChild(in_options.get('closeLink').cloneNode(1));}else{closeLink.innerHTML=in_options.get('closeLink');}closeLink.onclick=function(){domTT_deactivate(tipOwner.id);};closeLink.onmousedown=function(in_event){if(typeof(in_event)=='undefined'){in_event=event;}in_event.cancelBubble=true;};if(domLib_isMacIE){closeLinkCell.appendChild(parentDoc.createTextNode("\n"));}}if(domLib_isMacIE){captionCell.appendChild(parentDoc.createTextNode("\n"));}var contentRow=tipLayoutTbody.appendChild(parentDoc.createElement('tr'));var contentCell=contentRow.appendChild(parentDoc.createElement('td'));contentCell.style.padding='0px';if(numCaptionCells){if(domLib_isIE||domLib_isOpera){contentCell.colSpan=numCaptionCells;}else{contentCell.setAttribute('colspan',numCaptionCells);}}content=contentCell.appendChild(parentDoc.createElement('div'));if(domLib_isIE50){content.style.height='100%';}}else{content=tipObj.appendChild(parentDoc.createElement('div'));}content.className='contents';if(in_options.get('content').nodeType){content.appendChild(in_options.get('content').cloneNode(1));}else{content.innerHTML=in_options.get('content');}if(in_options.has('width')){tipObj.style.width=parseInt(in_options.get('width'))+'px';}var maxWidth=domTT_maxWidth;if(in_options.has('maxWidth')){if((maxWidth=in_options.get('maxWidth'))===false){tipObj.style.maxWidth=domLib_styleNoMaxWidth;}else{maxWidth=parseInt(in_options.get('maxWidth'));tipObj.style.maxWidth=maxWidth+'px';}}if(maxWidth!==false&&(domLib_isIE||domLib_isKHTML)&&tipObj.offsetWidth>maxWidth){tipObj.style.width=maxWidth+'px';}in_options.set('offsetWidth',tipObj.offsetWidth);in_options.set('offsetHeight',tipObj.offsetHeight);if(domLib_isKonq&&tableLayout&&!tipObj.style.width){var left=document.defaultView.getComputedStyle(tipObj,'').getPropertyValue('border-left-width');var right=document.defaultView.getComputedStyle(tipObj,'').getPropertyValue('border-right-width');left=left.substring(left.indexOf(':')+2,left.indexOf(';'));right=right.substring(right.indexOf(':')+2,right.indexOf(';'));var correction=2*((left?parseInt(left):0)+(right?parseInt(right):0));tipObj.style.width=(tipObj.offsetWidth-correction)+'px';}if(domLib_isIE||domLib_isOpera){if(!tipObj.style.width){tipObj.style.width=(tipObj.offsetWidth-2)+'px';}tipObj.style.height=(tipObj.offsetHeight-2)+'px';}var offsetX,offsetY;if(in_options.get('position')=='absolute'&&!(in_options.has('x')&&in_options.has('y'))){switch(in_options.get('direction')){case 'northeast':offsetX=in_options.get('offsetX');offsetY=0-tipObj.offsetHeight-in_options.get('offsetY');break;case 'northwest':offsetX=0-tipObj.offsetWidth-in_options.get('offsetX');offsetY=0-tipObj.offsetHeight-in_options.get('offsetY');break;case 'north':offsetX=0-parseInt(tipObj.offsetWidth/2);offsetY=0-tipObj.offsetHeight-in_options.get('offsetY');break;case 'southwest':offsetX=0-tipObj.offsetWidth-in_options.get('offsetX');offsetY=in_options.get('offsetY');break;case 'southeast':offsetX=in_options.get('offsetX');offsetY=in_options.get('offsetY');break;case 'south':offsetX=0-parseInt(tipObj.offsetWidth/2);offsetY=in_options.get('offsetY');break;}if(in_options.get('inframe')){var iframeObj=domLib_getIFrameReference(window);if(iframeObj){var frameOffsets=domLib_getOffsets(iframeObj);offsetX+=frameOffsets.get('left');offsetY+=frameOffsets.get('top');}}}else{offsetX=0;offsetY=0;in_options.set('trail',false);}in_options.set('offsetX',offsetX);in_options.set('offsetY',offsetY);if(in_options.get('clearMouse')&&in_options.get('direction').indexOf('south')!=-1){in_options.set('mouseOffset',domTT_mouseHeight);}else{in_options.set('mouseOffset',0);}if(domLib_canFade&&typeof(Fadomatic)=='function'){if(in_options.get('fade')!='neither'){var fadeHandler=new Fadomatic(tipObj,10,0,0,in_options.get('fadeMax'));in_options.set('fadeHandler',fadeHandler);}}else{in_options.set('fade','neither');}if(in_options.get('trail')&&typeof(tipOwner.onmousemove)!='function'){tipOwner.onmousemove=function(in_event){domTT_mousemove(this,in_event);};}if(typeof(tipOwner.onmouseout)!='function'){tipOwner.onmouseout=function(in_event){domTT_mouseout(this,in_event);};}if(in_options.get('type')=='sticky'){if(in_options.get('position')=='absolute'&&domTT_dragEnabled&&in_options.get('draggable')){if(domLib_isIE){captionRow.onselectstart=function(){return false;};}captionRow.onmousedown=function(in_event){domTT_dragStart(tipObj,in_event);};captionRow.onmousemove=function(in_event){domTT_dragUpdate(in_event);};captionRow.onmouseup=function(){domTT_dragStop();};}}else if(in_options.get('type')=='velcro'){tipObj.onmouseout=function(in_event){if(typeof(in_event)=='undefined'){in_event=event;}if(!domLib_isDescendantOf(in_event[domLib_eventTo],tipObj)){domTT_deactivate(tipOwner.id);}};}if(in_options.get('position')=='relative'){tipObj.style.position='relative';}in_options.set('node',tipObj);in_options.set('status','inactive');};function domTT_show(in_id,in_event){var tooltip=domTT_tooltips.get(in_id);var status=tooltip.get('status');var tipObj=tooltip.get('node');if(tooltip.get('position')=='absolute'){var mouseX,mouseY;if(tooltip.has('x')&&tooltip.has('y')){mouseX=tooltip.get('x');mouseY=tooltip.get('y');}else if(!domTT_useGlobalMousePosition||status=='active'||tooltip.get('delay')==0){var eventPosition=domLib_getEventPosition(in_event);var eventX=eventPosition.get('x');var eventY=eventPosition.get('y');if(tooltip.get('inframe')){eventX-=eventPosition.get('scrollX');eventY-=eventPosition.get('scrollY');}if(status=='active'&&tooltip.get('trail')!==true){var trail=tooltip.get('trail');if(trail=='x'){mouseX=eventX;mouseY=tooltip.get('mouseY');}else if(trail=='y'){mouseX=tooltip.get('mouseX');mouseY=eventY;}}else{mouseX=eventX;mouseY=eventY;}}else{mouseX=domTT_mousePosition.get('x');mouseY=domTT_mousePosition.get('y');if(tooltip.get('inframe')){mouseX-=domTT_mousePosition.get('scrollX');mouseY-=domTT_mousePosition.get('scrollY');}}if(tooltip.get('grid')){if(in_event.type!='mousemove'||(status=='active'&&(Math.abs(tooltip.get('lastX')-mouseX)>tooltip.get('grid')||Math.abs(tooltip.get('lastY')-mouseY)>tooltip.get('grid')))){tooltip.set('lastX',mouseX);tooltip.set('lastY',mouseY);}else{return false;}}tooltip.set('mouseX',mouseX);tooltip.set('mouseY',mouseY);var coordinates;if(domTT_screenEdgeDetection){coordinates=domTT_correctEdgeBleed(tooltip.get('offsetWidth'),tooltip.get('offsetHeight'),mouseX,mouseY,tooltip.get('offsetX'),tooltip.get('offsetY'),tooltip.get('mouseOffset'),tooltip.get('inframe')?window.parent:window);}else{coordinates={'x':mouseX+tooltip.get('offsetX'),'y':mouseY+tooltip.get('offsetY')+tooltip.get('mouseOffset')};}tipObj.style.left=coordinates.x+'px';tipObj.style.top=coordinates.y+'px';tipObj.style.zIndex=domLib_zIndex++;}if(status=='pending'){tooltip.set('status','active');tipObj.style.display='';tipObj.style.visibility='visible';var fade=tooltip.get('fade');if(fade!='neither'){var fadeHandler=tooltip.get('fadeHandler');if(fade=='out'||fade=='both'){fadeHandler.haltFade();if(fade=='out'){fadeHandler.halt();}}if(fade=='in'||fade=='both'){fadeHandler.fadeIn();}}if(tooltip.get('type')=='greasy'&&tooltip.get('lifetime')!=0){tooltip.set('lifetimeTimeout',domLib_setTimeout(domTT_runDeactivate,tooltip.get('lifetime'),[tipObj.id]));}}if(tooltip.get('position')=='absolute'){domLib_detectCollisions(tipObj);}}function domTT_close(in_handle){var id;if(typeof(in_handle)=='object'&&in_handle.nodeType){var obj=in_handle;while(!obj.id||!domTT_tooltips.get(obj.id)){obj=obj.parentNode;if(obj.nodeType!=document.ELEMENT_NODE){return;}}id=obj.id;}else{id=in_handle;}domTT_deactivate(id);}function domTT_deactivate(in_id){var tooltip=domTT_tooltips.get(in_id);if(tooltip){var status=tooltip.get('status');if(status=='pending'){domLib_clearTimeout(tooltip.get('activateTimeout'));tooltip.set('status','inactive');}else if(status=='active'){if(tooltip.get('lifetime')){domLib_clearTimeout(tooltip.get('lifetimeTimeout'));}var tipObj=tooltip.get('node');if(tooltip.get('closeAction')=='hide'){var fade=tooltip.get('fade');if(fade!='neither'){var fadeHandler=tooltip.get('fadeHandler');if(fade=='out'||fade=='both'){fadeHandler.fadeOut();}else{fadeHandler.hide();}}else{tipObj.style.display='none';}}else{tooltip.get('parent').removeChild(tipObj);domTT_tooltips.remove(tooltip.get('owner').id);domTT_tooltips.remove(tooltip.get('id'));}tooltip.set('status','inactive');domLib_detectCollisions(tipObj,true);}}}function domTT_mouseout(in_owner,in_event){if(!domLib_useLibrary){return false;}if(typeof(in_event)=='undefined'){in_event=event;}var toChild=domLib_isDescendantOf(in_event[domLib_eventTo],in_owner);var tooltip=domTT_tooltips.get(in_owner.id);if(tooltip&&(tooltip.get('type')=='greasy'||tooltip.get('status')!='active')){if(!toChild){domTT_deactivate(in_owner.id);try{window.status=window.defaultStatus;}catch(e){}}}else if(!toChild){try{window.status=window.defaultStatus;}catch(e){}}}function domTT_mousemove(in_owner,in_event){if(!domLib_useLibrary){return false;}if(typeof(in_event)=='undefined'){in_event=event;}var tooltip=domTT_tooltips.get(in_owner.id);if(tooltip&&tooltip.get('trail')&&tooltip.get('status')=='active'){if(tooltip.get('lazy')){domLib_setTimeout(domTT_runShow,domTT_trailDelay,[in_owner.id,in_event]);}else{domTT_show(in_owner.id,in_event);}}}function domTT_addPredefined(in_id){var options=new Hash();for(var i=1;i<arguments.length;i+=2){options.set(arguments[i],arguments[i+1]);}domTT_predefined.set(in_id,options);}function domTT_correctEdgeBleed(in_width,in_height,in_x,in_y,in_offsetX,in_offsetY,in_mouseOffset,in_window){var win,doc;var bleedRight,bleedBottom;var pageHeight,pageWidth,pageYOffset,pageXOffset;var x=in_x+in_offsetX;var y=in_y+in_offsetY+in_mouseOffset;win=(typeof(in_window)=='undefined'?window:in_window);doc=((domLib_standardsMode&&(domLib_isIE||domLib_isGecko))?win.document.documentElement:win.document.body);if(domLib_isIE){pageHeight=doc.clientHeight;pageWidth=doc.clientWidth;pageYOffset=doc.scrollTop;pageXOffset=doc.scrollLeft;}else{pageHeight=doc.clientHeight;pageWidth=doc.clientWidth;if(domLib_isKHTML){pageHeight=win.innerHeight;}pageYOffset=win.pageYOffset;pageXOffset=win.pageXOffset;}if((bleedRight=(x-pageXOffset)+in_width-(pageWidth-domTT_screenEdgePadding))>0){x-=bleedRight;}if((x-pageXOffset)<domTT_screenEdgePadding){x=domTT_screenEdgePadding+pageXOffset;}if((bleedBottom=(y-pageYOffset)+in_height-(pageHeight-domTT_screenEdgePadding))>0){y=in_y-in_height-in_offsetY;}if((y-pageYOffset)<domTT_screenEdgePadding){y=in_y+domTT_mouseHeight+in_offsetY;}return{'x':x,'y':y};}function domTT_isActive(in_id){var tooltip=domTT_tooltips.get(in_id);if(!tooltip||tooltip.get('status')!='active'){return false;}else{return true;}}function domTT_runDeactivate(args){domTT_deactivate(args[0]);}function domTT_runShow(args){domTT_show(args[0],args[1]);}function domTT_replaceTitles(in_decorator){var elements=domLib_getElementsByClass('tooltip');for(var i=0;i<elements.length;i++){if(elements[i].title){var content;if(typeof(in_decorator)=='function'){content=in_decorator(elements[i]);}else{content=elements[i].title;}content=content.replace(new RegExp('\'','g'),'\\\'');elements[i].onmouseover=new Function('in_event',"domTT_activate(this, in_event, 'content', '"+content+"')");elements[i].title='';}}}function domTT_update(handle,content,type){if(typeof(type)=='undefined'){type='content';}var tip=domTT_tooltips.get(handle);if(!tip){return;}var tipObj=tip.get('node');var updateNode;if(type=='content'){updateNode=tipObj.firstChild;if(updateNode.className!='contents'){updateNode=updateNode.firstChild.firstChild.nextSibling.firstChild.firstChild;}}else{updateNode=tipObj.firstChild;if(updateNode.className=='contents'){return;}updateNode=updateNode.firstChild.firstChild.firstChild.firstChild;}updateNode.innerHTML=content;}function createToolButton(icon,label,key,id){var btn=document.createElement('button');var ico=document.createElement('img');btn.className='toolbutton';btn.title=label;if(key){btn.title+=' [ALT+'+key.toUpperCase()+']';btn.accessKey=key;}if(id){btn.id=id;ico.id=id+'_ico';}ico.src=DOKU_BASE+'lib/images/toolbar/'+icon;btn.appendChild(ico);return btn;}function createPicker(id,list,icobase,edid){var cnt=list.length;var picker=document.createElement('div');picker.className='picker';picker.id=id;picker.style.position='absolute';picker.style.display='none';for(var key in list){var btn=document.createElement('button');btn.className='pickerbutton';if(isNaN(key)){var ico=document.createElement('img');ico.src=DOKU_BASE+'lib/images/'+icobase+'/'+list[key];btn.title=key;btn.appendChild(ico);eval("btn.onclick = function(){pickerInsert('"+id+"','"+jsEscape(key)+"','"+jsEscape(edid)+"');return false;}");}else{var txt=document.createTextNode(list[key]);btn.title=list[key];btn.appendChild(txt);eval("btn.onclick = function(){pickerInsert('"+id+"','"+jsEscape(list[key])+"','"+jsEscape(edid)+"');return false;}");}picker.appendChild(btn);}var body=document.getElementsByTagName('body')[0];body.appendChild(picker);}function pickerInsert(pickerid,text,edid){insertAtCarret(edid,text);pobj=document.getElementById(pickerid);pobj.style.display='none';}function showPicker(pickerid,btn){var picker=document.getElementById(pickerid);var x=findPosX(btn);var y=findPosY(btn);if(picker.style.display=='none'){picker.style.display='block';picker.style.left=(x+3)+'px';picker.style.top=(y+btn.offsetHeight+3)+'px';}else{picker.style.display='none';}}function initToolbar(tbid,edid,tb){var toolbar=$(tbid);if(!toolbar)return;toolbar.innerHTML='';var cnt=tb.length;for(var i=0;i<cnt;i++){btn=createToolButton(tb[i]['icon'],tb[i]['title'],tb[i]['key']);switch(tb[i]['type']){case 'format':var sample=tb[i]['title'];if(tb[i]['sample']){sample=tb[i]['sample'];}eval("btn.onclick = function(){insertTags('"+jsEscape(edid)+"','"+jsEscape(tb[i]['open'])+"','"+jsEscape(tb[i]['close'])+"','"+jsEscape(sample)+"');return false;}");toolbar.appendChild(btn);break;case 'insert':eval("btn.onclick = function(){insertAtCarret('"+jsEscape(edid)+"','"+jsEscape(tb[i]['insert'])+"');return false;}");toolbar.appendChild(btn);break;case 'signature':if(typeof(SIG)!='undefined'&&SIG!=''){eval("btn.onclick = function(){insertAtCarret('"+jsEscape(edid)+"','"+jsEscape(SIG)+"');return false;}");toolbar.appendChild(btn);}break;case 'picker':createPicker('picker'+i,tb[i]['list'],tb[i]['icobase'],edid);eval("btn.onclick = function(){showPicker('picker"+i+"',this);return false;}");toolbar.appendChild(btn);break;case 'mediapopup':eval("btn.onclick = function(){window.open('"+jsEscape(tb[i]['url']+NS)+"','"+jsEscape(tb[i]['name'])+"','"+jsEscape(tb[i]['options'])+"');return false;}");toolbar.appendChild(btn);break;}}}function insertTags(edid,tagOpen,tagClose,sampleText){var txtarea=document.getElementById(edid);if(document.selection&&!is_gecko){var theSelection=document.selection.createRange().text;var replaced=true;if(!theSelection){replaced=false;theSelection=sampleText;}txtarea.focus();var text=theSelection;if(theSelection.charAt(theSelection.length-1)==" "){theSelection=theSelection.substring(0,theSelection.length-1);r=document.selection.createRange();r.text=tagOpen+theSelection+tagClose+" ";}else{r=document.selection.createRange();r.text=tagOpen+theSelection+tagClose;}if(!replaced){r.moveStart('character',-text.length-tagClose.length);r.moveEnd('character',-tagClose.length);}r.select();}else if(txtarea.selectionStart||txtarea.selectionStart=='0'){replaced=false;var startPos=txtarea.selectionStart;var endPos=txtarea.selectionEnd;if(endPos-startPos){replaced=true;}var scrollTop=txtarea.scrollTop;var myText=(txtarea.value).substring(startPos,endPos);if(!myText){myText=sampleText;}if(myText.charAt(myText.length-1)==" "){subst=tagOpen+myText.substring(0,(myText.length-1))+tagClose+" ";}else{subst=tagOpen+myText+tagClose;}txtarea.value=txtarea.value.substring(0,startPos)+subst+txtarea.value.substring(endPos,txtarea.value.length);txtarea.focus();if(replaced){var cPos=startPos+(tagOpen.length+myText.length+tagClose.length);txtarea.selectionStart=cPos;txtarea.selectionEnd=cPos;}else{txtarea.selectionStart=startPos+tagOpen.length;txtarea.selectionEnd=startPos+tagOpen.length+myText.length;}txtarea.scrollTop=scrollTop;}else{var copy_alertText=alertText;var re1=new RegExp("\\$1","g");var re2=new RegExp("\\$2","g");copy_alertText=copy_alertText.replace(re1,sampleText);copy_alertText=copy_alertText.replace(re2,tagOpen+sampleText+tagClose);if(sampleText){text=prompt(copy_alertText);}else{text="";}if(!text){text=sampleText;}text=tagOpen+text+tagClose;txtarea.value+="\n"+text;if(!is_safari){txtarea.focus();}}if(txtarea.createTextRange){txtarea.caretPos=document.selection.createRange().duplicate();}}function insertAtCarret(edid,value){var field=document.getElementById(edid);if(document.selection){field.focus();sel=document.selection.createRange();sel.text=value;}else if(field.selectionStart||field.selectionStart=='0'){var startPos=field.selectionStart;var endPos=field.selectionEnd;var scrollTop=field.scrollTop;field.value=field.value.substring(0,startPos)+value+field.value.substring(endPos,field.value.length);field.focus();var cPos=startPos+(value.length);field.selectionStart=cPos;field.selectionEnd=cPos;field.scrollTop=scrollTop;}else{field.value+="\n"+value;}if(field.createTextRange){field.caretPos=document.selection.createRange().duplicate();}}var textChanged=false;function changeCheck(msg){if(textChanged){var ok=confirm(msg);if(ok){var dwform=$('dw__editform');if(dwform){var params='call=draftdel';params+='&id='+encodeURIComponent(dwform.elements.id.value);var sackobj=new sack(DOKU_BASE+'lib/exe/ajax.php');sackobj.AjaxFailedAlert='';sackobj.encodeURIString=false;sackobj.runAJAX(params);}}return ok;}else{return true;}}function initChangeCheck(msg){if(!document.getElementById){return false;}var links=document.getElementsByTagName('a');for(var i=0;i<links.length;i++){if(links[i].className.indexOf('JSnocheck')==-1){links[i].onclick=function(){var rc=changeCheck(msg);if(window.event)window.event.returnValue=rc;return rc;};links[i].onkeypress=function(){var rc=changeCheck(msg);if(window.event)window.event.returnValue=rc;return rc;};}}var forms=document.forms;for(i=0;i<forms.length;i++){if(forms[i].className.indexOf('JSnocheck')==-1){forms[i].onsubmit=function(){var rc=changeCheck(msg);if(window.event)window.event.returnValue=rc;return rc;};}}var btn_save=document.getElementById('edbtn__save');btn_save.onclick=function(){textChanged=false;};btn_save.onkeypress=function(){textChanged=false;};var btn_prev=document.getElementById('edbtn__preview');btn_prev.onclick=function(){textChanged=false;};btn_prev.onkeypress=function(){textChanged=false;};var edit_text=document.getElementById('wiki__text');edit_text.onchange=function(){textChanged=true;summaryCheck();};edit_text.onkeyup=summaryCheck;var summary=document.getElementById('edit__summary');addEvent(summary,'change',summaryCheck);addEvent(summary,'keyup',summaryCheck);edit_text.focus();}function summaryCheck(){var sum=document.getElementById('edit__summary');if(sum.value===''){sum.className='missing';}else{sum.className='edit';}}function locktimer_class(){this.sack=null;this.timeout=0;this.timerID=null;this.lasttime=null;this.msg='';this.pageid='';};var locktimer=new locktimer_class();locktimer.init=function(timeout,msg,draft){locktimer.timeout=timeout*1000;locktimer.msg=msg;locktimer.draft=draft;locktimer.lasttime=new Date();if(!$('dw__editform'))return;locktimer.pageid=$('dw__editform').elements.id.value;if(!locktimer.pageid)return;locktimer.sack=new sack(DOKU_BASE+'lib/exe/ajax.php');locktimer.sack.AjaxFailedAlert='';locktimer.sack.encodeURIString=false;locktimer.sack.onCompletion=locktimer.refreshed;addEvent($('dw__editform').elements.wikitext,'keyup',function(){locktimer.refresh();});locktimer.reset();};locktimer.reset=function(){locktimer.clear();locktimer.timerID=window.setTimeout("locktimer.warning()",locktimer.timeout);};locktimer.warning=function(){locktimer.clear();alert(locktimer.msg);};locktimer.clear=function(){if(locktimer.timerID!==null){window.clearTimeout(locktimer.timerID);locktimer.timerID=null;}};locktimer.refresh=function(){var now=new Date();if(now.getTime()-locktimer.lasttime.getTime()>30*1000){var params='call=lock&id='+encodeURIComponent(locktimer.pageid);if(locktimer.draft){var dwform=$('dw__editform');params+='&prefix='+encodeURIComponent(dwform.elements.prefix.value);params+='&wikitext='+encodeURIComponent(dwform.elements.wikitext.value);params+='&suffix='+encodeURIComponent(dwform.elements.suffix.value);params+='&date='+encodeURIComponent(dwform.elements.date.value);}locktimer.sack.runAJAX(params);locktimer.lasttime=now;}};locktimer.refreshed=function(){var data=this.response;var error=data.charAt(0);data=data.substring(1);$('draft__status').innerHTML=data;if(error!='1')return;locktimer.reset();};media={keepopen:false,hide:false,treeattach:function(obj){if(!obj)return;var items=obj.getElementsByTagName('li');for(var i=0;i<items.length;i++){var elem=items[i];var clicky=elem.getElementsByTagName('img')[0];clicky.style.cursor='pointer';addEvent(clicky,'click',function(event){return media.toggle(event,this);});var link=elem.getElementsByTagName('a')[0];link.style.cursor='pointer';addEvent(link,'click',function(event){return media.list(event,this);});}},selectorattach:function(obj){if(!obj)return;var items=getElementsByClass('select',obj,'a');for(var i=0;i<items.length;i++){var elem=items[i];elem.style.cursor='pointer';addEvent(elem,'click',function(event){return media.select(event,this);});}items=getElementsByClass('example',obj,'div');for(var i=0;i<items.length;i++){elem=items[i];elem.style.display='none';}var file=$('upload__file');if(!file)return;addEvent(file,'change',media.suggest);},attachoptions:function(obj){if(!obj)return;if(opener){var kobox=document.createElement('input');kobox.type='checkbox';kobox.id='media__keepopen';if(DokuCookie.getValue('keepopen')){kobox.checked=true;kobox.defaultChecked=true;media.keepopen=true;}addEvent(kobox,'click',function(event){return media.togglekeepopen(event,this);});var kolbl=document.createElement('label');kolbl.htmlFor='media__keepopen';kolbl.innerHTML=LANG['keepopen'];var kobr=document.createElement('br');obj.appendChild(kobox);obj.appendChild(kolbl);obj.appendChild(kobr);}var hdbox=document.createElement('input');hdbox.type='checkbox';hdbox.id='media__hide';if(DokuCookie.getValue('hide')){hdbox.checked=true;hdbox.defaultChecked=true;media.hide=true;}addEvent(hdbox,'click',function(event){return media.togglehide(event,this);});var hdlbl=document.createElement('label');hdlbl.htmlFor='media__hide';hdlbl.innerHTML=LANG['hidedetails'];var hdbr=document.createElement('br');obj.appendChild(hdbox);obj.appendChild(hdlbl);obj.appendChild(hdbr);media.updatehide();},togglekeepopen:function(event,cb){if(cb.checked){DokuCookie.setValue('keepopen',1);media.keepopen=true;}else{DokuCookie.setValue('keepopen','');media.keepopen=false;}},togglehide:function(event,cb){if(cb.checked){DokuCookie.setValue('hide',1);media.hide=true;}else{DokuCookie.setValue('hide','');media.hide=false;}media.updatehide();},updatehide:function(){var obj=$('media__content');if(!obj)return;var details=getElementsByClass('detail',obj,'div');for(var i=0;i<details.length;i++){if(media.hide){details[i].style.display='none';}else{details[i].style.display='';}}},select:function(event,link){var id=link.name.substr(2);if(!opener){var ex=$('ex_'+id);if(ex.style.display==''){ex.style.display='none';}else{ex.style.display='';}return false;}opener.insertTags('wiki__text','{{'+id+'|','}}','');if(!media.keepopen)window.close();opener.focus();return false;},list:function(event,link){var ajax=new sack(DOKU_BASE+'lib/exe/ajax.php');ajax.AjaxFailedAlert='';ajax.encodeURIString=false;if(ajax.failed)return true;cleanMsgArea();var content=$('media__content');content.innerHTML='<img src="'+DOKU_BASE+'lib/images/loading.gif" alt="..." class="load" />';ajax.elementObj=content;ajax.afterCompletion=function(){media.selectorattach(content);media.updatehide();};ajax.runAJAX(link.search.substr(1)+'&call=medialist');return false;},toggle:function(event,clicky){var listitem=clicky.parentNode;var sublists=listitem.getElementsByTagName('ul');if(sublists.length){listitem.removeChild(sublists[0]);clicky.src=DOKU_BASE+'lib/images/plus.gif';return false;}var link=listitem.getElementsByTagName('a')[0];var ajax=new sack(DOKU_BASE+'lib/exe/ajax.php');ajax.AjaxFailedAlert='';ajax.encodeURIString=false;if(ajax.failed)return true;var ul=document.createElement('ul');listitem.appendChild(ul);ajax.elementObj=ul;ajax.afterCompletion=function(){media.treeattach(ul);};ajax.runAJAX(link.search.substr(1)+'&call=medians');clicky.src=DOKU_BASE+'lib/images/minus.gif';return false;},suggest:function(){var file=$('upload__file');var name=$('upload__name');if(!file||!name)return;var text=file.value;text=text.substr(text.lastIndexOf('/')+1);text=text.substr(text.lastIndexOf('\\')+1);name.value=text;}};addInitEvent(function(){media.treeattach($('media__tree'));media.selectorattach($('media__content'));media.attachoptions($('media__opts'));});addInitEvent(function(){ajax_qsearch.init('qsearch__in','qsearch__out');});addInitEvent(function(){addEvent(document,'click',closePopups);});addInitEvent(function(){addTocToggle();});addInitEvent(function(){initSizeCtl('size__ctl','wiki__text');});var toolbar=[{"type":"format","title":"Bold Text","icon":"bold.png","key":"b","open":"**","close":"**"},{"type":"format","title":"Italic Text","icon":"italic.png","key":"i","open":"\/\/","close":"\/\/"},{"type":"format","title":"Underlined Text","icon":"underline.png","key":"u","open":"__","close":"__"},{"type":"format","title":"Code Text","icon":"mono.png","key":"c","open":"''","close":"''"},{"type":"format","title":"Strike-through Text","icon":"strike.png","key":"d","open":"<del>","close":"<\/del>"},{"type":"format","title":"Level 1 Headline","icon":"h1.png","key":"1","open":"====== ","close":" ======\\n"},{"type":"format","title":"Level 2 Headline","icon":"h2.png","key":"2","open":"===== ","close":" =====\\n"},{"type":"format","title":"Level 3 Headline","icon":"h3.png","key":"3","open":"==== ","close":" ====\\n"},{"type":"format","title":"Level 4 Headline","icon":"h4.png","key":"4","open":"=== ","close":" ===\\n"},{"type":"format","title":"Level 5 Headline","icon":"h5.png","key":"5","open":"== ","close":" ==\\n"},{"type":"format","title":"Internal Link","icon":"link.png","key":"l","open":"[[","close":"]]"},{"type":"format","title":"External Link","icon":"linkextern.png","open":"[[","close":"]]","sample":"http:\/\/example.com|External Link"},{"type":"format","title":"Ordered List Item","icon":"ol.png","open":"  - ","close":"\\n"},{"type":"format","title":"Unordered List Item","icon":"ul.png","open":"  * ","close":"\\n"},{"type":"insert","title":"Horizontal Rule","icon":"hr.png","insert":"----\\n"},{"type":"mediapopup","title":"Add Images and other files","icon":"image.png","url":"\/wikidocs\/lib\/exe\/mediamanager.php?ns=","name":"mediaselect","options":"width=750,height=500,left=20,top=20,scrollbars=yes,resizable=yes"},{"type":"picker","title":"Smileys","icon":"smiley.png","list":{"8-)":"icon_cool.gif","8-O":"icon_eek.gif","8-o":"icon_eek.gif",":-(":"icon_sad.gif",":-)":"icon_smile.gif","=)":"icon_smile2.gif",":-\/":"icon_doubt.gif",":-\\":"icon_doubt2.gif",":-?":"icon_confused.gif",":-D":"icon_biggrin.gif",":-P":"icon_razz.gif",":-o":"icon_surprised.gif",":-O":"icon_surprised.gif",":-x":"icon_silenced.gif",":-X":"icon_silenced.gif",":-|":"icon_neutral.gif",";-)":"icon_wink.gif","^_^":"icon_fun.gif",":?:":"icon_question.gif",":!:":"icon_exclaim.gif","LOL":"icon_lol.gif","FIXME":"fixme.gif","DELETEME":"delete.gif"},"icobase":"smileys"},{"type":"picker","title":"Special Chars","icon":"chars.png","list":["\u00c0","\u00e0","\u00c1","\u00e1","\u00c2","\u00e2","\u00c3","\u00e3","\u00c4","\u00e4","\u01cd","\u01ce","\u0102","\u0103","\u00c5","\u00e5","\u0100","\u0101","\u0104","\u0105","\u00c6","\u00e6","\u0106","\u0107","\u00c7","\u00e7","\u010c","\u010d","\u0108","\u0109","\u010a","\u010b","\u00d0","\u0111","\u00f0","\u010e","\u010f","\u00c8","\u00e8","\u00c9","\u00e9","\u00ca","\u00ea","\u00cb","\u00eb","\u011a","\u011b","\u0112","\u0113","\u0116","\u0117","\u0118","\u0119","\u0122","\u0123","\u011c","\u011d","\u011e","\u011f","\u0120","\u0121","\u0124","\u0125","\u00cc","\u00ec","\u00cd","\u00ed","\u00ce","\u00ee","\u00cf","\u00ef","\u01cf","\u01d0","\u012a","\u012b","\u0130","\u0131","\u012e","\u012f","\u0134","\u0135","\u0136","\u0137","\u0139","\u013a","\u013b","\u013c","\u013d","\u013e","\u0141","\u0142","\u013f","\u0140","\u0143","\u0144","\u00d1","\u00f1","\u0145","\u0146","\u0147","\u0148","\u00d2","\u00f2","\u00d3","\u00f3","\u00d4","\u00f4","\u00d5","\u00f5","\u00d6","\u00f6","\u01d1","\u01d2","\u014c","\u014d","\u0150","\u0151","\u0152","\u0153","\u00d8","\u00f8","\u0154","\u0155","\u0156","\u0157","\u0158","\u0159","\u015a","\u015b","\u015e","\u015f","\u0160","\u0161","\u015c","\u015d","\u0162","\u0163","\u0164","\u0165","\u00d9","\u00f9","\u00da","\u00fa","\u00db","\u00fb","\u00dc","\u00fc","\u01d3","\u01d4","\u016c","\u016d","\u016a","\u016b","\u016e","\u016f","\u01d6","\u01d8","\u01da","\u01dc","\u0172","\u0173","\u0170","\u0171","\u0174","\u0175","\u00dd","\u00fd","\u0178","\u00ff","\u0176","\u0177","\u0179","\u017a","\u017d","\u017e","\u017b","\u017c","\u00de","\u00fe","\u00df","\u0126","\u0127","\u00bf","\u00a1","\u00a2","\u00a3","\u00a4","\u00a5","\u20ac","\u00a6","\u00a7","\u00aa","\u00ac","\u00af","\u00b0","\u00b1","\u00f7","\u2030","\u00bc","\u00bd","\u00be","\u00b9","\u00b2","\u00b3","\u00b5","\u00b6","\u2020","\u2021","\u00b7","\u2022","\u00ba","\u2200","\u2202","\u2203","\u018f","\u0259","\u2205","\u2207","\u2208","\u2209","\u220b","\u220f","\u2211","\u203e","\u2212","\u2217","\u221a","\u221d","\u221e","\u2220","\u2227","\u2228","\u2229","\u222a","\u222b","\u2234","\u223c","\u2245","\u2248","\u2260","\u2261","\u2264","\u2265","\u2282","\u2283","\u2284","\u2286","\u2287","\u2295","\u2297","\u22a5","\u22c5","\u25ca","\u2118","\u2111","\u211c","\u2135","\u2660","\u2663","\u2665","\u2666","\u03b1","\u03b2","\u0393","\u03b3","\u0394","\u03b4","\u03b5","\u03b6","\u03b7","\u0398","\u03b8","\u03b9","\u03ba","\u039b","\u03bb","\u03bc","\u039e","\u03be","\u03a0","\u03c0","\u03c1","\u03a3","\u03c3","\u03a4","\u03c4","\u03c5","\u03a6","\u03c6","\u03c7","\u03a8","\u03c8","\u03a9","\u03c9","\u2605","\u2606","\u260e","\u261a","\u261b","\u261c","\u261d","\u261e","\u261f","\u2639","\u263a","\u2714","\u2718"]},{"type":"signature","title":"Insert Signature","icon":"sig.png","key":"y"}];addInitEvent(function(){initToolbar('tool__bar','wiki__text',toolbar);});addInitEvent(function(){initChangeCheck('Unsaved changes will be lost.\nReally continue?');});addInitEvent(function(){locktimer.init(840,'Your lock for editing this page is about to expire in a minute.\nTo avoid conflicts use the preview button to reset the locktimer.',1);});addInitEvent(function(){updateAccessKeyTooltip();});addInitEvent(function(){scrollToMarker();});addInitEvent(function(){focusMarker();});